%%% Effect Map
%%% $Id$

%{%
#define data inner-efxmap
#define DATA_JOIN_DETERMINISTIC 1
#define DATA_JOIN_IMPLIES_LEQ 1
BEGIN_ELF
#include "map-base.elf"
#include "map-leq.elf"
#include "map-domain.elf"
#include "map-join.elf"
#include "map-deep-disjoint.elf"
#include "map-restrict.elf"
END_ELF
#undef data
%}%

%%% Renamings

%abbrev efxmap = map.
%abbrev efxmap/0 = map/0.
%abbrev efxmap/+ = map/+.
%abbrev efxmap/1 : nat -> nat -> efx -> efxmap 
  = [L][F][X] (efxmap/+ L (inner-efxmap/+ F X inner-efxmap/0) efxmap/0).