%%% mapping from field id to its type
%%% if the field is region, its type
%%% is ty/null.
%%% $Id: fldmap-base.elf,v 1.1 2013/03/04 18:08:09 csun Exp $

eq : ty -> ty -> type.

eq/ : eq T T.


%{%
#define EQ eq
BEGIN_ELF
#include "EQ.i"
END_ELF
#undef EQ
%}%


%{%
#define data ty
BEGIN_ELF
%abbrev ty`eq = eq.
%abbrev ty`eq/ = eq/.
%abbrev ty`meta-eq = meta-eq.
%abbrev ty`false-implies-eq = false-implies-eq.
%abbrev ty`eq-reflexive = eq-reflexive.
%abbrev ty`eq-symmetric = eq-symmetric.
%abbrev ty`eq-transitive = eq-transitive.
#include "map-base.elf"
#include "map-domain.elf"
END_ELF
#undef data
%}%


%%% Renamings

%abbrev fldmap = map.
%abbrev fldmap/0 = map/0.
%abbrev fldmap/+ = map/+.
%abbrev fldmap/1 : nat -> ty -> fldmap = [N][A] (fldmap/+ N A fldmap/0).
